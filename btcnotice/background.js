// Generated by CoffeeScript 1.4.0
(function(){var e,t,n,r,i;r=this;r.markid=localStorage.marknoticeid;r.url="http://mtgoxlive.com/orders";r.apiUrl="https://mtgox.com/api/1/BTCUSD/ticker";n=function(e){var t;t=e["return"].last_local.display_short;return chrome.bookmarks.update(r.markid,{title:t})};e=function(){var e;e=new XMLHttpRequest;e.open("GET",r.apiUrl,!0);e.onreadystatechange=function(){if(e.readyState===4)return n(JSON.parse(e.responseText))};return e.send()};t=function(){var t;t={title:"Bitcoin Price",url:r.url};return chrome.bookmarks.create(t,function(t){localStorage.marknoticeid=r.markid=t.id;return e()})};i=function(){r.markid?chrome.bookmarks.get(r.markid,function(e){if(!e){localStorage.removeItem(r.markid);return t()}}):t();return setInterval(e,6e4)};addEventListener("load",i,!1)}).call(this);