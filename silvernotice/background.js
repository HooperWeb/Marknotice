// Generated by CoffeeScript 1.4.0
(function(){var e,t,n,r,i;r=this;r.markid=localStorage.marknoticeid;r.url="http://sp.hubuzhi.com/";r.apiUrl="http://sp.hubuzhi.com/silverapi.php";n=function(e){var t,n,i;n=parseFloat(e[2]);n=n.toFixed(2);t=e[4];t.indexOf("-")>=0?i="▼ "+t+" "+n:i="▲ "+t+" "+n;return chrome.bookmarks.update(r.markid,{title:i})};e=function(){var e;e=new XMLHttpRequest;e.open("GET",r.apiUrl,!0);e.onreadystatechange=function(){if(e.readyState===4)return n(JSON.parse(e.responseText))};return e.send()};t=function(){var t;t={title:"Silver Price",url:r.url};return chrome.bookmarks.create(t,function(t){localStorage.marknoticeid=r.markid=t.id;return e()})};i=function(){r.markid?chrome.bookmarks.get(r.markid,function(e){if(!e){localStorage.removeItem(r.markid);return t()}}):t();return setInterval(e,6e4)};addEventListener("load",i,!1)}).call(this);